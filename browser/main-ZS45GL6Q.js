import"./chunk-ZKRMSTQ5.js";import{$ as P,C as s,D as F,H as v,J as V,K as M,L as l,M as R,N as j,O as D,P as n,Q as o,R as g,S as C,T as _,U as A,V as H,W as a,X as W,Y as O,_ as u,aa as z,ba as N,c as w,d as y,ga as U,h as T,ha as q,i as E,ia as G,j as I,ja as J,k as $,ka as K,l as x,ma as Q,o as B,oa as d,pa as X,qa as Y,r as k,ra as Z,s as m,sa as tt,w as h,x as f}from"./chunk-UQCZH3EN.js";var st=t=>["/books",t];function pt(t,e){if(t&1&&(n(0,"li")(1,"a",3),a(2),n(3,"p",4),a(4),o()()()),t&2){let c=e.$implicit;s(),V("routerLink",P(3,st,c.isbn)),s(),O(" ",c.title," "),s(2),W(c.subtitle)}}function mt(t,e){t&1&&(n(0,"li"),a(1,"No results"),o())}function lt(t,e){if(t&1&&(n(0,"ul",2),j(1,pt,5,5,"li",null,R),v(3,mt,2,0,"li"),o()),t&2){let c=e;s(),D(c),s(2),l(c.length?-1:3)}}var et=(()=>{let e=class e{constructor(){this.input$=new w,this.isLoading=!1,this.bookStoreService=k(tt),this.results$=this.input$.pipe(T(r=>r.length>=3),E(500),I(),x(()=>this.isLoading=!0),$(r=>this.bookStoreService.getAllSearch(r)),x(()=>this.isLoading=!1))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=m({type:e,selectors:[["bm-search"]],standalone:!0,features:[u],decls:4,vars:5,consts:[["searchInput",""],["type","search","autocomplete","off","aria-label","Search",3,"input"],[1,"search-results"],[3,"routerLink"],["role","doc-subtitle"]],template:function(i,p){if(i&1){let S=C();n(0,"input",1,0),_("input",function(){h(S);let ct=H(1);return f(p.input$.next(ct.value))}),o(),v(2,lt,4,1,"ul",2),z(3,"async")}if(i&2){let S;M("loading",p.isLoading),s(2),l((S=N(3,3,p.results$))?2:-1,S)}},dependencies:[U,d]});let t=e;return t})();var it=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=m({type:e,selectors:[["bm-home"]],standalone:!0,features:[u],decls:7,vars:0,consts:[["routerLink","/books",1,"button","red"]],template:function(i,p){i&1&&(n(0,"h1"),a(1,"Home"),o(),n(2,"a",0),a(3," Show book list "),o(),n(4,"h2"),a(5,"Search"),o(),g(6,"bm-search"))},dependencies:[d,et]});let t=e;return t})();var nt=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:it,title:"Home"},{path:"books",loadChildren:()=>import("./chunk-EZY72CB5.js").then(t=>t.bookRoutes)},{path:"admin",loadChildren:()=>import("./chunk-YSCQ2ZSW.js").then(t=>t.adminRoutes)}];var b=(()=>{let e=class e{constructor(){this._isAuthenticated$=new y(!0),this.isAuthenticated$=this._isAuthenticated$.asObservable()}get isAuthenticated(){return this._isAuthenticated$.value}login(){this._isAuthenticated$.next(!0)}logout(){this._isAuthenticated$.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ot=(t,e)=>{let c="1234567890";if(k(b).isAuthenticated){let i=t.clone({setHeaders:{Authorization:`Bearer ${c}`}});return e(i)}else return e(t)};var rt={providers:[Y(nt,Z()),K(),q(G([ot]))]};function dt(t,e){if(t&1){let c=C();n(0,"button",6),_("click",function(){h(c);let i=A();return f(i.auth.login())}),a(1,"Login"),o()}}function ht(t,e){if(t&1){let c=C();n(0,"button",7),_("click",function(){h(c);let i=A();return f(i.auth.logout())}),a(1,"Logout"),o()}}var at=(()=>{let e=class e{constructor(r){this.auth=r}};e.\u0275fac=function(i){return new(i||e)(F(b))},e.\u0275cmp=m({type:e,selectors:[["bm-root"]],standalone:!0,features:[u],decls:12,vars:2,consts:[["routerLink","/home","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/books","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/admin","routerLinkActive","active","ariaCurrentWhenActive","page"],[1,"actions"],[1,"green"],[1,"red"],[1,"green",3,"click"],[1,"red",3,"click"]],template:function(i,p){i&1&&(n(0,"nav")(1,"a",0),a(2,"Home"),o(),n(3,"a",1),a(4,"Books"),o(),n(5,"a",2),a(6,"Administration"),o(),n(7,"div",3),v(8,dt,2,0,"button",4)(9,ht,2,0,"button",5),o()(),n(10,"main"),g(11,"router-outlet"),o()),i&2&&(s(8),l(p.auth.isAuthenticated?-1:8),s(),l(p.auth.isAuthenticated?9:-1))},dependencies:[Q,d,X]});let t=e;return t})();J(at,rt).catch(t=>console.error(t));
